import argparse
import requests
import random

# Crie um objeto ArgumentParser
parser = argparse.ArgumentParser()

# Adicione um argumento para o nome do arquivo com as URLs
parser.add_argument("-l", "--url_file", required=True, help="Nome do arquivo com as URLs")

# Analise os argumentos da linha de comando
args = parser.parse_args()

# Verifique se o arquivo com as URLs existe
try:
    with open(args.url_file) as f:
        urls = f.read().splitlines()
except FileNotFoundError:
    print("Arquivo não encontrado.")
    exit()

# Verifique quais URLs estão online
online_urls = set()
for url in urls:
    try:
        # Faça uma solicitação HTTP para a URL
        response = requests.get(url)
        # Verifique se a URL está online
        if response.status_code == 200:
            online_urls.add(url)
    except:
        pass

# Escolha uma URL aleatória entre as URLs online
chosen_url = random.choice(list(online_urls))
print("URL escolhida:", chosen_url)
